<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TP Sistemas 3 - Registro de productos</title>
    <link rel="shortcut icon" href="https://img.icons8.com/emoji/60/hamburger-emoji.png" type="image/x-icon">
    <link rel="stylesheet" href="../../index.css">
    <link rel="stylesheet" href="./index.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js">
    </script>


    <style>
        label {
            margin-right: 13px;
        }
    </style>
</head>

<body>
    <header>
        <div class="logo">
            <a href="../../IndexTP_Sistemas3.html">
                <img width="70" height="70" src="https://img.icons8.com/ios-filled/50/hamburger.png" alt="hamburger" />
            </a>

        </div>
        <div class="logo-title">

            <h1>Wonder Hamburgueserias</h1>
        </div>
        <div class="profile">
            <a href="../../IndexTP_Sistemas3.html">

                <img width="50" height="50" src="https://img.icons8.com/ios-filled/50/user-female-circle.png"
                    alt="user-female-circle" />
            </a>
        </div>
    </header>

    <div class="container-content">

        <div class="sidebar">

            <ul>

                <li>
                    <a href="../Ventas/indexTPs3_ventas.html">Ventas</a>
                </li>
                <hr>
                <li>
                    <a href="../delivery/indexTPs3_delivery.html">Delivery</a>
                </li>
                <hr>
                <li>

                    <a href="./indexTPs3_RegProdu.html">
                        Registro Comestibles</a>
                </li>
                <hr>
                <li>
                    <a href="/pages/RegProducto/indexTPs3_RegProdu2.html">
                        Registro Bebidas</a>
                </li>
                <hr>
                <li>
                    <a href="./indexTPs3_RegProduc3.html">
                        Registro de Insumos
                    </a>
                </li>
                <hr>
                <li>
                    <a href="../RegEmpleados/indexTPs3_RegEmple.html">
                        Registro de Empleados
                    </a>
                </li>
                <div class="btn-sidebar">
                    <a href="../../pages/login/login.html">
                        <input type="button" value="⬅ Salir"
                            style=" padding: 8px 22px 8px 20px;border-radius: 0px 10px 0px 10px; background-color: rgb(240, 77, 77); ">
                    </a>
                </div>
            </ul>
        </div>

        <main>

            <div class="hero">

                <div class="conteinerMain">
                    <section style="height: 40rem; overflow-y: scroll;">
                        <div class="product-title">

                            <h3 style="text-align: center;">Carga productos </h3>
                        </div>

                        <form id="formBebida">
                            <div class="form-title">
                                <h4>Insumos</h4>
                            </div>

                            <div class="form-title"
                                style="display: grid; grid-template-columns: 1fr 1fr 1fr; align-items: center;">

                                <label for="busqueda" style="font-size: medium;"><strong>Realizar
                                        consulta</strong></label>
                                <input type="text" class="ingDatos" name="" id="txtId3" placeholder="Código"
                                    style="width: 4rem;">

                                <div class="form-btn">

                                    <input id="botonDatos" type="button" style="text-align: center; width: 5rem;"
                                        name="" value="Buscar" onclick="Buscar3()"
                                        style="display: flex;margin-left: auto;">

                                    <input id="botonDatos" type="reset"
                                        style="text-align: center; height: 1.2rem; width: 4rem;margin-top: 4px;"
                                        value="Limpiar">
                                </div>
                            </div>

                            <input type="text" class="ingDatos" name="" id="txtNombre3" placeholder="Nombre">
                            <input type="text" class="ingDatos" name="" id="txtDescripcion3" placeholder="Descripcion">
                            <input type="text" class="ingDatos" name="" id="txtCantidad3" placeholder="Cantidad">
                            <input type="text" class="ingDatos" name="" id="txtValor3" placeholder="Valor">

                            <div class="form-btn">

                                <input id="botonDatos" type="button" style="text-align: center;" name=""
                                    value="Registrar" onclick="Registrar3(), document.location.reload()"
                                    style="display: flex;margin-left: auto;">

                                <input id="botonDatos" type="button" style="text-align: center;" name=""
                                    value="Modificar" onclick="Modificar3(), document.location.reload()"
                                    style="display: flex;margin-left: auto;">

                                <input id="botonDatos" type="button"
                                    style="text-align: center;background-color: rgb(139, 34, 34);" name=""
                                    value="Eliminar" onclick="Eliminar3(), document.location.reload()"
                                    style="display: flex;margin-left: auto;">

                            </div>

                        </form>

                </div>
            </div>
            <section id="tablas">

                <section id="tabla1" style=" height: 15rem; overflow-y: scroll;">
                    <table id="tabla1">
                        <div class="form-title">
                            <h4 style="color: antiquewhite;">Comestibles</h4>
                        </div>
                        <input type="text" id="busqueda1" placeholder="Buscar">
                        <thead>
                            <tr id="lista">
                                <th>Código</th>
                                <th>Nombre</th>
                                <th>Descripcion</th>
                                <th>Precio</th>

                            </tr>
                        </thead>
                        <tbody id="tbody1">

                        </tbody>

                    </table>
                </section>

                <section id="tabla1" style=" height: 15rem; overflow-y: scroll;">
                    <table>
                        <div class="form-title">
                            <h4 style="color: antiquewhite;">Bebidas</h4>
                        </div>
                        <thead>
                            <tr id="lista">
                                <th>Código</th>
                                <th>Nombre</th>
                                <th>Medida</th>
                                <th>Descripcion</th>
                                <th>Precio</th>

                            </tr>
                        </thead>
                        <tbody id="tbody2">

                        </tbody>

                    </table>
                </section>

                <section id="tabla1" style=" height: 15rem; overflow-y: scroll;">
                    <table>
                        <div class="form-title">
                            <h4 style="color: antiquewhite;">Insumos</h4>
                        </div>

                        <thead>
                            <tr id="lista">
                                <th>Código</th>
                                <th>Nombre</th>
                                <th>Descripcion</th>
                                <th>Cantidad</th>
                                <th>Valor</th>


                            </tr>
                        </thead>
                        <tbody id="tbody3">

                        </tbody>
                    </table>
                </section>

            </section>
        </main>
    </div>
    <footer>
        <h5> Sistemas 3 Castro-Chiliguay-Clemente-Velez-Videla 31NMS </h5>
    </footer>


    <script>


        GetAll1()

        function GetAll1() {
            $.ajax({
                type: "GET",
                dataType: "json",
                url: "http://localhost:53248/api/Comestibles",
                success: function (data) {
                    //alert(data)

                    const tbody1 = document.getElementById("tbody1");

                    data.forEach(o => {
                        let _tr = `<tr>
                <td>${o.IdComida}</td>
                <td>${o.Nombre}</td>
                <td>${o.Descripcion}</td>
				<td>${o.Precio}</td>
            
            </tr>`

                        tbody1.innerHTML += _tr;
                    });
                },
                error: function (error) {

                    console.log(error)
                }
            })

        }

        GetAll2()

        function GetAll2() {
            $.ajax({
                type: "GET",
                dataType: "json",
                url: "http://localhost:53248/api/Bebida",
                success: function (data) {
                    //alert(data)

                    const tbody2 = document.getElementById("tbody2");

                    data.forEach(o => {
                        let _tr = `<tr>
                <td>${o.IdBebida}</td>
                <td>${o.Nombre}</td>
                <td>${o.Medida}</td>
                <td>${o.Descripcion}</td>
				<td>${o.Precio}</td>
            
            </tr>`

                        tbody2.innerHTML += _tr;
                    });
                },
                error: function (error) {

                    console.log(error)
                }
            })

        }


        GetAll3()

        function GetAll3() {
            $.ajax({
                type: "GET",
                dataType: "json",
                url: "http://localhost:53248/api/Insumos",
                success: function (data) {
                    //alert(data)

                    const tbody3 = document.getElementById("tbody3");

                    data.forEach(o => {
                        let _tr = `<tr>
                <td>${o.IdInsumos}</td>
                <td>${o.Nombre}</td>
				<td>${o.Descripcion}</td>
                <td>${o.Cantidad}</td>
				<td>${o.Precio}</td>
            
            </tr>`

                        tbody3.innerHTML += _tr;
                    });
                },
                error: function (error) {

                    console.log(error)
                }
            })

        }


        function Buscar3() {
            const id = document.getElementById("txtId3")
            get(parseInt(id.value))
        }

        function get(id) {
            $.ajax({
                type: "GET",
                dataType: "json",
                url: "http://localhost:53248/api/Insumos/" + id,
                success: function (data) {
                    console.log(data)

                    const Nombre3 = document.getElementById("txtNombre3")
                    const Descripcion3 = document.getElementById("txtDescripcion3")
                    const Cantidad3 = document.getElementById("txtCantidad3")
                    const Valor3 = document.getElementById("txtValor3")

                    Nombre3.value = data.Nombre;
                    Descripcion3.value = data.Descripcion;
                    Cantidad3.value = data.Cantidad;
                    Valor3.value = data.Precio;
                }
            })
        }

        function Registrar3() {

            const Nombre3 = document.getElementById("txtNombre3")
            const Descripcion3 = document.getElementById("txtDescripcion3")
            const Cantidad3 = document.getElementById("txtCantidad3")
            const Valor3 = document.getElementById("txtValor3")

            let obj = {
                "Nombre": Nombre3.value,
                "Descripcion": Descripcion3.value,
                "Cantidad": Cantidad3.value,
                "Precio": Valor3.value,
            }
            //  console.log(obj)

            post(obj)

        }

        function post(obj) {

            $.ajax({
                type: "POST",
                dataType: "json",
                data: obj,
                url: "http://localhost:53248/api/Insumos",
                success: function (data) {
                    alert("Carga exitosa!!")
                },
                error: function (error) {

                    alert(error);
                }
            })
        }

        function Modificar3() {
            const id = document.getElementById("txtId3");

            const Nombre3 = document.getElementById("txtNombre3")
            const Descripcion3 = document.getElementById("txtDescripcion3")
            const Cantidad3 = document.getElementById("txtCantidad3")
            const Valor3 = document.getElementById("txtValor3")

           let obj = {
                "Nombre": Nombre3.value,
                "Descripcion": Descripcion3.value,
                "Cantidad": Cantidad3.value,
                "Precio": Valor3.value,
            }

            put(parseInt(id.value), obj)
        }

        function put(id, obj) {
            $.ajax({
                type: "PUT",
                dataType: "json",
                data: obj,
                url: "http://localhost:53248/api/Insumos/" + id,
                success: function (data) {
                    alert("Cambio Exitoso!!!");
                },
                error: function (error) {

                    alert(error);
                }


            })

        }


        function Eliminar3() {

            const id = document.getElementById("txtId3");

            del(parseInt(id.value))

        }

        function del(id) {
            $.ajax({
                type: "Delete",
                dataType: "json",
                url: "http://localhost:53248/api/Insumos/" + id,
                success: function (data) {
                    alert("Proceso Exitos...!!!")

                    const id = document.getElementById("txtId3");

                    const Nombre3 = document.getElementById("txtNombre3")
                    const Descripcion3 = document.getElementById("txtDescripcion3")
                    const Cantidad3 = document.getElementById("txtCantidad3")
                    const Valor3 = document.getElementById("txtValor3")

                    id.value = "";
                    Nombre3.value = "";
                    Descripcion3.value = "";
                    Cantidad3.value = "";
                    Valor3.value = "";

                }
            })
        }


        /* document.getElementById("busqueda1").addEventListener("input", function () {
            var input = this.value.toLowerCase();
            var tabla = document.getElementById("tabla1");
            var filas = tabla.getElementsByTagName("tr");
        
            for (var i = 1; i < filas.length; i++) {
                var fila = filas[i];
                var celdas = fila.getElementsByTagName("td");
                var encontrado = false;
        
                for (var j = 0; j < celdas.length; j++) {
                    var celda = celdas[j];
                    if (celda.innerHTML.toLowerCase().indexOf(input) > -1) {
                        encontrado = true;
                        break;
                    }
                }
        
                if (encontrado) {
                    fila.style.display = "";
                } else {
                    fila.style.display = "none";
                }
            }
        }); */


        function salida() {
            window.location.href = "../../login.html";
        }
    </script>
</body>

</html>